- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: thresholdmetrics-calendar-aligned-window-occurrences
    name: thresholdmetrics-calendar-aligned-window-occurrences
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
      rawMetric:
        prometheus:
          promql: "12"
    objectives:
    - displayName: ""
      op: lt
      target: 0.99
      value: 9
    service: prometheus-polakpotrafipl
    timeWindows:
    - calendar:
        startTime: "2021-01-01 00:00:00"
        timeZone: UTC
      count: 1
      isRolling: false
      period:
        begin: "2021-11-15T00:00:00Z"
        end: "2021-11-16T00:00:00Z"
      unit: Day
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: 10-minutes
    name: 10-minutes
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
    objectives:
    - countMetrics:
        good:
          prometheus:
            promql: sum(polakpotrafi_server_requests{code=~"2xx|3xx",host="*",instance="176.119.57.155:9913",job="polak-nginx"})
        incremental: true
        total:
          prometheus:
            promql: polakpotrafi_server_requests{code="total",host="*",instance="176.119.57.155:9913",job="polak-nginx"}
      displayName: ""
      target: 0.95
      value: 1
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 10
      isRolling: true
      period:
        begin: "2021-11-15T23:06:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Minute
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: test
    name: test
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: some description
    indicator:
      metricSource:
        kind: Agent
        name: prometheus
        project: prometheus
      rawMetric:
        prometheus:
          promql: "200"
    objectives:
    - displayName: ""
      op: lt
      target: 0.9
      value: 220
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 1
      isRolling: true
      period:
        begin: "2021-11-15T22:16:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Hour
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: prometheus-calendar-occurrences-threshold
    name: prometheus-calendar-occurrences-threshold
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
      rawMetric:
        prometheus:
          promql: polakpotrafi_server_requestMsec{host="*",instance="176.119.57.155:9913",job="polak-nginx"}
    objectives:
    - displayName: average
      op: lt
      target: 0.8
      value: 200
    - displayName: so-so
      op: lt
      target: 0.5
      value: 150
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 1
      isRolling: true
      period:
        begin: "2021-11-14T23:16:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Day
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: ratiometrics-calendar-aligned-window-occurrences
    name: ratiometrics-calendar-aligned-window-occurrences
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
    objectives:
    - countMetrics:
        good:
          prometheus:
            promql: "12"
        incremental: true
        total:
          prometheus:
            promql: "24"
      displayName: ""
      target: 0.04
      value: 1
    service: prometheus-polakpotrafipl
    timeWindows:
    - calendar:
        startTime: "2021-01-01 00:00:00"
        timeZone: UTC
      count: 1
      isRolling: false
      period:
        begin: "2021-11-15T00:00:00Z"
        end: "2021-11-16T00:00:00Z"
      unit: Day
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: ratiometrics-calendar-aligned-window-time-slices
    name: ratiometrics-calendar-aligned-window-time-slices
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Timeslices
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
    objectives:
    - countMetrics:
        good:
          prometheus:
            promql: "12"
        incremental: true
        total:
          prometheus:
            promql: "24"
      displayName: ""
      target: 0.99
      timeSliceTarget: 0.99
      value: 1
    service: prometheus-polakpotrafipl
    timeWindows:
    - calendar:
        startTime: "2021-01-01 00:00:00"
        timeZone: UTC
      count: 1
      isRolling: false
      period:
        begin: "2021-11-15T00:00:00Z"
        end: "2021-11-16T00:00:00Z"
      unit: Day
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: thresholdmetrics-calendar-aligned-window-time-slices
    name: thresholdmetrics-calendar-aligned-window-time-slices
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Timeslices
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
      rawMetric:
        prometheus:
          promql: "1"
    objectives:
    - displayName: ""
      op: lt
      target: 0.99
      timeSliceTarget: 0.99
      value: 9
    service: prometheus-polakpotrafipl
    timeWindows:
    - calendar:
        startTime: "2021-01-01 00:00:00"
        timeZone: UTC
      count: 1
      isRolling: false
      period:
        begin: "2021-11-15T00:00:00Z"
        end: "2021-11-16T00:00:00Z"
      unit: Day
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: prometheus-calendar-timeslices-threshold
    name: prometheus-calendar-timeslices-threshold
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Timeslices
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
      rawMetric:
        prometheus:
          promql: polakpotrafi_server_requestMsec{host="*",instance="176.119.57.155:9913"}
    objectives:
    - displayName: doable
      op: lt
      target: 0.8
      timeSliceTarget: 0.8
      value: 200
    service: prometheus-polakpotrafipl
    timeWindows:
    - calendar:
        startTime: "2021-01-27 00:00:00"
        timeZone: UTC
      count: 1
      isRolling: false
      period:
        begin: "2021-11-15T00:00:00Z"
        end: "2021-11-16T00:00:00Z"
      unit: Day
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: test-paulina
    name: test-paulina
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
      rawMetric:
        prometheus:
          promql: "260"
    objectives:
    - displayName: ""
      op: lt
      target: 0.9
      value: 250
    - displayName: ""
      op: lt
      target: 0.9
      value: 260
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 2
      isRolling: true
      period:
        begin: "2021-11-15T21:16:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Hour
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: Test incremental
    name: test-incremental
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: test incremental
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
    objectives:
    - countMetrics:
        good:
          prometheus:
            promql: "260"
        incremental: true
        total:
          prometheus:
            promql: "300"
      displayName: ""
      target: 0.1
      value: 1
    - countMetrics:
        good:
          prometheus:
            promql: "260"
        incremental: true
        total:
          prometheus:
            promql: "300"
      displayName: ""
      target: 0.1
      value: 2
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 1
      isRolling: true
      period:
        begin: "2021-11-15T22:16:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Hour
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: ratiometrics-rolling-window-time-slices
    name: ratiometrics-rolling-window-time-slices
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Timeslices
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
    objectives:
    - countMetrics:
        good:
          prometheus:
            promql: "12"
        incremental: true
        total:
          prometheus:
            promql: "24"
      displayName: ""
      target: 0.04
      timeSliceTarget: 0.04
      value: 1
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 1
      isRolling: true
      period:
        begin: "2021-11-15T22:16:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Hour
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    name: short-time-window-test
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus
        project: prometheus
      rawMetric:
        prometheus:
          promql: "250"
    objectives:
    - displayName: ""
      op: lt
      target: 0.99
      value: 240
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 10
      isRolling: true
      period:
        begin: "2021-11-15T23:06:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Minute
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    displayName: prometheus-calendar-occurrences-ratio
    name: prometheus-calendar-occurrences-ratio
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus-polakpotrafi
        project: default
    objectives:
    - countMetrics:
        good:
          prometheus:
            promql: sum(polakpotrafi_server_requests{code=~"2xx|3xx",host="*",instance="176.119.57.155:9913",job="polak-nginx"})
        incremental: true
        total:
          prometheus:
            promql: polakpotrafi_server_requests{code="total",host="*",instance="176.119.57.155:9913",job="polak-nginx"}
      displayName: ""
      target: 0.9
      value: 1
    - countMetrics:
        good:
          prometheus:
            promql: sum(polakpotrafi_server_requests{code=~"2xx|3xx",host="*",instance="176.119.57.155:9913",job="polak-nginx"})
        incremental: true
        total:
          prometheus:
            promql: polakpotrafi_server_requests{code="total",host="*",instance="176.119.57.155:9913",job="polak-nginx"}
      displayName: ""
      target: 0.06
      value: 2
    - countMetrics:
        good:
          prometheus:
            promql: good metrics
        incremental: false
        total:
          prometheus:
            promql: total metrics
      displayName: "4"
      target: 0.99
      value: 3
    service: prometheus-polakpotrafipl
    timeWindows:
    - calendar:
        startTime: "2021-01-27 11:00:00"
        timeZone: UTC
      count: 1
      isRolling: false
      period:
        begin: "2021-11-15T11:00:00Z"
        end: "2021-11-16T11:00:00Z"
      unit: Day
- apiVersion: n9/v1alpha
  kind: SLO
  metadata:
    name: test-10-minutes
    project: default
  spec:
    alertPolicies: []
    budgetingMethod: Occurrences
    description: ""
    indicator:
      metricSource:
        kind: Agent
        name: prometheus
        project: prometheus
      rawMetric:
        prometheus:
          promql: "180"
    objectives:
    - displayName: ""
      op: lt
      target: 0.99
      value: 150
    service: prometheus-polakpotrafipl
    timeWindows:
    - count: 10
      isRolling: true
      period:
        begin: "2021-11-15T23:06:03Z"
        end: "2021-11-15T23:16:03Z"
      unit: Minute
